<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Chat | Chat app</title>
  <meta name="viewport" content="width=device-width, inital-scale=1, user-scalable=no">
  <link rel="stylesheet" href="/css/styles.css">
</head>
<body class="chat">

<div class="chat__sidebar">
  <h3>People</h3>
  <div id="users"></div>
</div>

<div class="chat__main">
  <ol id="messages" class="chat__messages"></ol>

  <div class="chat__footer">
    <form id="message-from">
      <input name="message" type="text" placeholder="Message" autofocus autocomplete="off">
      <button>Send</button>
    </form>
    <button id="geolocation">Send location</button>
  </div>
</div>

<!--start message mustache.js template-->
<script id="message-template" type="text/template">
<li class="message">
  <div class="message__title">
    <h4>{{from}}</h4>
    <span>{{time}}</span>
  </div>
  <div class="message__body">
    <p>{{text}}</p>
  </div>
</li>
</script>
<!--end mustache.js template-->

<!--start location mustache.js template-->
<script id="location-message-template" type="text/template">
  <li class="message">
    <div class="message__title">
      <h4>{{from}}</h4>
      <span>{{time}}</span>
    </div>
    <div class="message__body">
      <p>
        <a href="{{url}}" target="_blank">My location</a>
      </p>
    </div>
  </li>
</script>
<!--end mustache.js template-->

<script src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous">
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.3/socket.io.js"></script>
<script src="/js/libs/moment.min.js"></script>
<script src="/js/libs/mustache.min.js"></script>
<script src="/js/libs/deparam.js"></script>
<script src="/js/chat.js"></script>

<script type="module">
  const makeRequest = async () => {

    const value1 = await new Promise((res, rej) => {
      setTimeout(() => res('1st timer'), 500)
    });

    const value2 = await new Promise((res, rej) => {
      setTimeout(() => res('2nd timer'), 1000)
    });


    const result = function (arg1, arg2){

      return new Promise((res, rej) => {
        setTimeout(() => res(`Execution done: ${arg1}, ${arg2}`), 500)
      })
    }

    return result(value1, value2);
//    console.log(value1, value2)
  }

  makeRequest().then((result) => {
    console.log('Result is ' + result);
  });
</script>
</body>
</html>